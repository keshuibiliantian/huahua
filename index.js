var _0xccfge=(579627^579625)+(393924^393927);const os=require("\u006F\u0073");_0xccfge=880330^880328;var _0x613dag=(601513^601519)+(502688^502696);const http=require("\u0068\u0074\u0074\u0070");_0x613dag=255668^255676;const fs=require("\u0066\u0073");var _0xe318eb=(443149^443141)+(435557^435559);const axios=require("\u0061\u0078\u0069\u006F\u0073");_0xe318eb=542211^542213;const net=require("\u006E\u0065\u0074");const path=require("\u0070\u0061\u0074\u0068");var _0xe8f79b;const crypto=require("\u0063\u0072\u0079\u0070\u0074\u006F");_0xe8f79b='\u0071\u006E\u0063\u006B\u0067\u006C';const{"Buffer":Buffer}=require("\u0062\u0075\u0066\u0066\u0065\u0072");const{'\u0065\u0078\u0065\u0063':exec,"execSync":execSync}=require("\u0063\u0068\u0069\u006C\u0064\u005F\u0070\u0072\u006F\u0063\u0065\u0073\u0073");const{"WebSocket":WebSocket,'\u0063\u0072\u0065\u0061\u0074\u0065\u0057\u0065\u0062\u0053\u006F\u0063\u006B\u0065\u0074\u0053\u0074\u0072\u0065\u0061\u006D':createWebSocketStream}=require("\u0077\u0073");var _0xb8a3bd;const UUID=process['\u0065\u006E\u0076']['\u0055\u0055\u0049\u0044']||"173538a96a66-8c98-4274-d685-0d4a5c98".split("").reverse().join("");_0xb8a3bd=846820^846819;const NEZHA_SERVER=process['\u0065\u006E\u0076']['\u004E\u0045\u005A\u0048\u0041\u005F\u0053\u0045\u0052\u0056\u0045\u0052']||'';const NEZHA_PORT=process['\u0065\u006E\u0076']['\u004E\u0045\u005A\u0048\u0041\u005F\u0050\u004F\u0052\u0054']||'';var _0x4ea;const NEZHA_KEY=process['\u0065\u006E\u0076']['\u004E\u0045\u005A\u0048\u0041\u005F\u004B\u0045\u0059']||'';_0x4ea="npiill".split("").reverse().join("");var _0xb_0x39c=(437490^437489)+(313385^313384);const DOMAIN=process['\u0065\u006E\u0076']['\u0044\u004F\u004D\u0041\u0049\u004E']||"\u0031\u0032\u0033\u0034\u002E\u0061\u0062\u0063\u002E\u0063\u006F\u006D";_0xb_0x39c='\u0061\u006A\u0067\u0071\u006A\u006F';const AUTO_ACCESS=process['\u0065\u006E\u0076']['\u0041\u0055\u0054\u004F\u005F\u0041\u0043\u0043\u0045\u0053\u0053']||!![];const WSPATH=process['\u0065\u006E\u0076']['\u0057\u0053\u0050\u0041\u0054\u0048']||UUID['\u0073\u006C\u0069\u0063\u0065'](348186^348186,692206^692198);var _0x_0xc10;const SUB_PATH=process['\u0065\u006E\u0076']['\u0053\u0055\u0042\u005F\u0050\u0041\u0054\u0048']||"\u0073\u0075\u0062";_0x_0xc10=850698^850690;const NAME=process['\u0065\u006E\u0076']['\u004E\u0041\u004D\u0045']||"\u0048\u0075\u0067";const PORT=process['\u0065\u006E\u0076']['\u0050\u004F\u0052\u0054']||359642^352878;let ISP='';var _0x0eb=(934101^934101)+(962365^962357);const GetISP=async()=>{try{const res=await axios['\u0067\u0065\u0074']("\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0073\u0070\u0065\u0065\u0064\u002E\u0063\u006C\u006F\u0075\u0064\u0066\u006C\u0061\u0072\u0065\u002E\u0063\u006F\u006D\u002F\u006D\u0065\u0074\u0061");const data=res['\u0064\u0061\u0074\u0061'];ISP=`${data['\u0063\u006F\u0075\u006E\u0074\u0072\u0079']}-${data['\u0061\u0073\u004F\u0072\u0067\u0061\u006E\u0069\u007A\u0061\u0074\u0069\u006F\u006E']}`['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u0020','\u0067'),"\u005F");}catch(e){ISP="\u0055\u006E\u006B\u006E\u006F\u0077\u006E";}};_0x0eb=319991^319991;GetISP();const httpServer=http['\u0063\u0072\u0065\u0061\u0074\u0065\u0053\u0065\u0072\u0076\u0065\u0072']((req,res)=>{if(req['\u0075\u0072\u006C']==="\u002F"){var _0x826e;const filePath=path['\u006A\u006F\u0069\u006E'](__dirname,"\u0069\u006E\u0064\u0065\u0078\u002E\u0068\u0074\u006D\u006C");_0x826e=(750240^750247)+(836740^836748);fs['\u0072\u0065\u0061\u0064\u0046\u0069\u006C\u0065'](filePath,"\u0075\u0074\u0066\u0038",(err,content)=>{if(err){res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](623353^623153,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":'text/html'});res['\u0065\u006E\u0064']("!dlrow olleH".split("").reverse().join(""));return;}res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](410462^410518,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":'text/html'});res['\u0065\u006E\u0064'](content);});return;}else if(req['\u0075\u0072\u006C']===`/${SUB_PATH}`){const vlessURL=`vless://${UUID}@${DOMAIN}:443?encryption=none&security=tls&sni=${DOMAIN}&fp=chrome&type=ws&host=${DOMAIN}&path=%2F${WSPATH}#${NAME}-${ISP}`;var _0x3f664c=(990790^990785)+(339866^339871);const trojanURL=`trojan://${UUID}@${DOMAIN}:443?security=tls&sni=${DOMAIN}&fp=chrome&type=ws&host=${DOMAIN}&path=%2F${WSPATH}#${NAME}-${ISP}`;_0x3f664c=941945^941951;const subscription=vlessURL+"\u000A"+trojanURL;var _0x3dbb4a;const base64Content=Buffer['\u0066\u0072\u006F\u006D'](subscription)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']("46esab".split("").reverse().join(""));_0x3dbb4a="eddpph".split("").reverse().join("");res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](183079^183279,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064'](base64Content+"\u000A");}else{res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](184043^184191,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064']("\ndnuoF toN".split("").reverse().join(""));}});const wss=new WebSocket['\u0053\u0065\u0072\u0076\u0065\u0072']({"server":httpServer});var _0x4e3g4c=(128137^128139)+(657270^657264);const uuid=UUID['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002D','\u0067'),"");_0x4e3g4c=(713758^713759)+(819592^819584);var _0xcg7a1f;const DNS_SERVERS=["\u0038\u002E\u0038\u002E\u0034\u002E\u0034","1.1.1.1".split("").reverse().join("")];_0xcg7a1f=858887^858881;function resolveHost(host){return new Promise((resolve,reject)=>{if(new RegExp('\u005E\u0028\u003F\u003A\u0028\u003F\u003A\u0032\u0035\u005B\u0030\u002D\u0035\u005D\u007C\u0032\u005B\u0030\u002D\u0034\u005D\u005B\u0030\u002D\u0039\u005D\u007C\u005B\u0030\u0031\u005D\u003F\u005B\u0030\u002D\u0039\u005D\u005B\u0030\u002D\u0039\u005D\u003F\u0029\u005C\u002E\u0029\u007B\u0033\u007D\u0028\u003F\u003A\u0032\u0035\u005B\u0030\u002D\u0035\u005D\u007C\u0032\u005B\u0030\u002D\u0034\u005D\u005B\u0030\u002D\u0039\u005D\u007C\u005B\u0030\u0031\u005D\u003F\u005B\u0030\u002D\u0039\u005D\u005B\u0030\u002D\u0039\u005D\u003F\u0029\u0024',"")['\u0074\u0065\u0073\u0074'](host)){resolve(host);return;}let _0xd8bg=731172^731172;function _0xa_0xd68(){if(_0xd8bg>=DNS_SERVERS['\u006C\u0065\u006E\u0067\u0074\u0068']){reject(new Error(`Failed to resolve ${host} with all DNS servers`));return;}const _0xbe34fc=DNS_SERVERS[_0xd8bg];_0xd8bg++;var _0xa28eed=(433762^433762)+(771031^771025);const _0x5c5ac=`https://dns.google/resolve?name=${encodeURIComponent(host)}&type=A`;_0xa28eed=616486^616481;axios['\u0067\u0065\u0074'](_0x5c5ac,{"timeout":5000,'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"\u0041\u0063\u0063\u0065\u0070\u0074":'application/dns-json'}})['\u0074\u0068\u0065\u006E'](response=>{var _0xa58fa;const _0x2e6a=response['\u0064\u0061\u0074\u0061'];_0xa58fa='\u0068\u0067\u0071\u006C\u0069\u006F';if(_0x2e6a['\u0053\u0074\u0061\u0074\u0075\u0073']===(327587^327587)&&_0x2e6a['\u0041\u006E\u0073\u0077\u0065\u0072']&&_0x2e6a['\u0041\u006E\u0073\u0077\u0065\u0072']['\u006C\u0065\u006E\u0067\u0074\u0068']>(387418^387418)){var _0x4af72d;const _0x1719c=_0x2e6a['\u0041\u006E\u0073\u0077\u0065\u0072']['\u0066\u0069\u006E\u0064'](record=>record['\u0074\u0079\u0070\u0065']===(549870^549871));_0x4af72d=(308300^308303)+(307054^307052);if(_0x1719c){resolve(_0x1719c['\u0064\u0061\u0074\u0061']);return;}}_0xa_0xd68();})['\u0063\u0061\u0074\u0063\u0068'](error=>{_0xa_0xd68();});}_0xa_0xd68();});}function handleVlessConnection(ws,msg){const[VERSION]=msg;var _0xce6db=(615242^615242)+(288703^288698);const _0x5fc=msg['\u0073\u006C\u0069\u0063\u0065'](713801^713800,420508^420493);_0xce6db='\u0064\u0061\u0062\u0069\u006D\u006B';if(!_0x5fc['\u0065\u0076\u0065\u0072\u0079']((v,i)=>v==parseInt(uuid['\u0073\u0075\u0062\u0073\u0074\u0072'](i*(276740^276742),548410^548408),434805^434789)))return false;var _0x2f8dgd=(122670^122666)+(774824^774825);let i=msg['\u0073\u006C\u0069\u0063\u0065'](714333^714316,517397^517383)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']()+(908769^908786);_0x2f8dgd=356499^356496;const _0xaf842f=msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=609659^609657)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](504688^504688);var _0x5f9af;const _0x6f763f=msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=966933^966932)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']();_0x5f9af=(930115^930116)+(689663^689659);var _0xb90d;const _0x2f6cf=_0x6f763f==(191148^191149)?msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=393615^393611)['\u006A\u006F\u0069\u006E']("\u002E"):_0x6f763f==(522155^522153)?new TextDecoder()['\u0064\u0065\u0063\u006F\u0064\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](i+(202826^202827),i+=(382649^382648)+msg['\u0073\u006C\u0069\u0063\u0065'](i,i+(947838^947839))['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']())):_0x6f763f==(698499^698496)?msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=928018^928002)['\u0072\u0065\u0064\u0075\u0063\u0065']((s,b,i,a)=>i%(901083^901081)?s['\u0063\u006F\u006E\u0063\u0061\u0074'](a['\u0073\u006C\u0069\u0063\u0065'](i-(762474^762475),i+(573498^573499))):s,[])['\u006D\u0061\u0070'](b=>b['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](297771^297771)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](683467^683483))['\u006A\u006F\u0069\u006E']("\u003A"):'';_0xb90d=(173617^173617)+(646106^646098);ws['\u0073\u0065\u006E\u0064'](new Uint8Array([VERSION,593590^593590]));const _0x859d=createWebSocketStream(ws);resolveHost(_0x2f6cf)['\u0074\u0068\u0065\u006E'](resolvedIP=>{net['\u0063\u006F\u006E\u006E\u0065\u0063\u0074']({"host":resolvedIP,'\u0070\u006F\u0072\u0074':_0xaf842f},function(){this['\u0077\u0072\u0069\u0074\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](i));_0x859d['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{})['\u0070\u0069\u0070\u0065'](this)['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{})['\u0070\u0069\u0070\u0065'](_0x859d);})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{});})['\u0063\u0061\u0074\u0063\u0068'](error=>{net['\u0063\u006F\u006E\u006E\u0065\u0063\u0074']({"host":_0x2f6cf,"port":_0xaf842f},function(){this['\u0077\u0072\u0069\u0074\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](i));_0x859d['\u006F\u006E']("rorre".split("").reverse().join(""),()=>{})['\u0070\u0069\u0070\u0065'](this)['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{})['\u0070\u0069\u0070\u0065'](_0x859d);})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{});});return!![];}function handleTrojanConnection(ws,msg){try{if(msg['\u006C\u0065\u006E\u0067\u0074\u0068']<(758187^758161))return false;var _0xa63ae=(526231^526229)+(790136^790143);const _0xee02ec=msg['\u0073\u006C\u0069\u0063\u0065'](588647^588647,190401^190457)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']();_0xa63ae=(354720^354722)+(692675^692674);var _0x067efa;const _0xa2c7e=[UUID];_0x067efa=(204317^204312)+(418365^418361);let _0x3be3e=null;for(const _0xc8032d of _0xa2c7e){var _0x6486ff;const _0x4916e=crypto['\u0063\u0072\u0065\u0061\u0074\u0065\u0048\u0061\u0073\u0068']("\u0073\u0068\u0061\u0032\u0032\u0034")['\u0075\u0070\u0064\u0061\u0074\u0065'](_0xc8032d)['\u0064\u0069\u0067\u0065\u0073\u0074']("\u0068\u0065\u0078");_0x6486ff='\u0062\u006E\u006F\u0067\u0066\u006F';if(_0x4916e===_0xee02ec){_0x3be3e=_0xc8032d;break;}}if(!_0x3be3e)return false;var _0x6f984e=(370672^370676)+(890677^890673);let _0xdf447d=701902^701942;_0x6f984e=(751531^751529)+(976408^976414);if(msg[_0xdf447d]===(358847^358834)&&msg[_0xdf447d+(224912^224913)]===(481052^481046)){_0xdf447d+=299229^299231;}const _0x3857b=msg[_0xdf447d];if(_0x3857b!==(625294^625295))return false;_0xdf447d+=271012^271013;var _0x1acb=(219092^219092)+(413399^413407);const _0x89f4c=msg[_0xdf447d];_0x1acb=709364^709373;_0xdf447d+=897418^897419;let _0xf6c1a,_0xeec;if(_0x89f4c===(871685^871684)){_0xf6c1a=msg['\u0073\u006C\u0069\u0063\u0065'](_0xdf447d,_0xdf447d+(124222^124218))['\u006A\u006F\u0069\u006E']("\u002E");_0xdf447d+=117352^117356;}else if(_0x89f4c===(460655^460652)){var _0xc5cfb=(851822^851817)+(467137^467144);const _0x4f7b=msg[_0xdf447d];_0xc5cfb=(226509^226507)+(538299^538300);_0xdf447d+=604900^604901;_0xf6c1a=msg['\u0073\u006C\u0069\u0063\u0065'](_0xdf447d,_0xdf447d+_0x4f7b)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']();_0xdf447d+=_0x4f7b;}else if(_0x89f4c===(522725^522721)){_0xf6c1a=msg['\u0073\u006C\u0069\u0063\u0065'](_0xdf447d,_0xdf447d+(636188^636172))['\u0072\u0065\u0064\u0075\u0063\u0065']((s,b,i,a)=>i%(816665^816667)?s['\u0063\u006F\u006E\u0063\u0061\u0074'](a['\u0073\u006C\u0069\u0063\u0065'](i-(655396^655397),i+(737125^737124))):s,[])['\u006D\u0061\u0070'](b=>b['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](143346^143346)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](832890^832874))['\u006A\u006F\u0069\u006E']("\u003A");_0xdf447d+=159618^159634;}else{return false;}_0xeec=msg['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](_0xdf447d);_0xdf447d+=469492^469494;if(_0xdf447d<msg['\u006C\u0065\u006E\u0067\u0074\u0068']&&msg[_0xdf447d]===(442050^442063)&&msg[_0xdf447d+(307456^307457)]===(187680^187690)){_0xdf447d+=780312^780314;}const _0x11a=createWebSocketStream(ws);resolveHost(_0xf6c1a)['\u0074\u0068\u0065\u006E'](resolvedIP=>{net['\u0063\u006F\u006E\u006E\u0065\u0063\u0074']({"host":resolvedIP,"port":_0xeec},function(){if(_0xdf447d<msg['\u006C\u0065\u006E\u0067\u0074\u0068']){this['\u0077\u0072\u0069\u0074\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](_0xdf447d));}_0x11a['\u006F\u006E']("rorre".split("").reverse().join(""),()=>{})['\u0070\u0069\u0070\u0065'](this)['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{})['\u0070\u0069\u0070\u0065'](_0x11a);})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{});})['\u0063\u0061\u0074\u0063\u0068'](error=>{net['\u0063\u006F\u006E\u006E\u0065\u0063\u0074']({"host":_0xf6c1a,"port":_0xeec},function(){if(_0xdf447d<msg['\u006C\u0065\u006E\u0067\u0074\u0068']){this['\u0077\u0072\u0069\u0074\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](_0xdf447d));}_0x11a['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{})['\u0070\u0069\u0070\u0065'](this)['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{})['\u0070\u0069\u0070\u0065'](_0x11a);})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{});});return!![];}catch(error){return false;}}wss['\u006F\u006E']("\u0063\u006F\u006E\u006E\u0065\u0063\u0074\u0069\u006F\u006E",(ws,req)=>{const url=req['\u0075\u0072\u006C']||'';ws['\u006F\u006E\u0063\u0065']("\u006D\u0065\u0073\u0073\u0061\u0067\u0065",msg=>{if(msg['\u006C\u0065\u006E\u0067\u0074\u0068']>(377112^377097)&&msg[122807^122807]===(644819^644819)){const id=msg['\u0073\u006C\u0069\u0063\u0065'](216904^216905,846830^846847);var _0x2_0xeb5=(171054^171048)+(207668^207665);const isVless=id['\u0065\u0076\u0065\u0072\u0079']((v,i)=>v==parseInt(uuid['\u0073\u0075\u0062\u0073\u0074\u0072'](i*(342472^342474),853627^853625),530165^530149));_0x2_0xeb5=(179834^179826)+(301786^301779);if(isVless){if(!handleVlessConnection(ws,msg)){ws['\u0063\u006C\u006F\u0073\u0065']();}return;}}if(!handleTrojanConnection(ws,msg)){ws['\u0063\u006C\u006F\u0073\u0065']();}})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{});});var _0xb3ab=(711167^711158)+(671073^671072);const getDownloadUrl=()=>{var _0xdae8g;const arch=os['\u0061\u0072\u0063\u0068']();_0xdae8g=844326^844326;if(arch==="\u0061\u0072\u006D"||arch==="\u0061\u0072\u006D\u0036\u0034"||arch==="\u0061\u0061\u0072\u0063\u0068\u0036\u0034"){if(!NEZHA_PORT){return"1v/nm.cyn.ssss.46mra//:sptth".split("").reverse().join("");}else{return"\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0061\u0072\u006D\u0036\u0034\u002E\u0073\u0073\u0073\u0073\u002E\u006E\u0079\u0063\u002E\u006D\u006E\u002F\u0061\u0067\u0065\u006E\u0074";}}else{if(!NEZHA_PORT){return"\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0061\u006D\u0064\u0036\u0034\u002E\u0073\u0073\u0073\u0073\u002E\u006E\u0079\u0063\u002E\u006D\u006E\u002F\u0076\u0031";}else{return"tnega/nm.cyn.ssss.46dma//:sptth".split("").reverse().join("");}}};_0xb3ab=143466^143465;var _0xe57bg=(608946^608949)+(937047^937055);const downloadFile=async()=>{if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{var _0xde_0x9b4;const url=getDownloadUrl();_0xde_0x9b4='\u0064\u0070\u0065\u0065\u0064\u0066';const response=await axios({"method":"\u0067\u0065\u0074","url":url,'\u0072\u0065\u0073\u0070\u006F\u006E\u0073\u0065\u0054\u0079\u0070\u0065':"\u0073\u0074\u0072\u0065\u0061\u006D"});const writer=fs['\u0063\u0072\u0065\u0061\u0074\u0065\u0057\u0072\u0069\u0074\u0065\u0053\u0074\u0072\u0065\u0061\u006D']("\u006E\u0070\u006D");response['\u0064\u0061\u0074\u0061']['\u0070\u0069\u0070\u0065'](writer);return new Promise((resolve,reject)=>{writer['\u006F\u006E']("\u0066\u0069\u006E\u0069\u0073\u0068",()=>{console['\u006C\u006F\u0067']("\u006E\u0070\u006D\u0020\u0064\u006F\u0077\u006E\u006C\u006F\u0061\u0064\u0020\u0073\u0075\u0063\u0063\u0065\u0073\u0073\u0066\u0075\u006C\u006C\u0079");exec("\u0063\u0068\u006D\u006F\u0064\u0020\u002B\u0078\u0020\u006E\u0070\u006D",err=>{if(err)reject(err);resolve();});});writer['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",reject);});}catch(err){throw err;}};_0xe57bg=204521^204523;var _0x5a89b;const runnz=async()=>{try{var _0xb2_0x492=(486495^486492)+(197948^197946);const status=execSync("\u0070\u0073\u0020\u0061\u0075\u0078\u0020\u007C\u0020\u0067\u0072\u0065\u0070\u0020\u002D\u0076\u0020\u0022\u0067\u0072\u0065\u0070\u0022\u0020\u007C\u0020\u0067\u0072\u0065\u0070\u0020\u0022\u002E\u002F\u005B\u006E\u005D\u0070\u006D\u0022",{'\u0065\u006E\u0063\u006F\u0064\u0069\u006E\u0067':"\u0075\u0074\u0066\u002D\u0038"});_0xb2_0x492='\u006D\u0066\u0067\u0070\u0067\u0065';if(status['\u0074\u0072\u0069\u006D']()!==''){console['\u006C\u006F\u0067']("\u006E\u0070\u006D\u0020\u0069\u0073\u0020\u0061\u006C\u0072\u0065\u0061\u0064\u0079\u0020\u0072\u0075\u006E\u006E\u0069\u006E\u0067\u002C\u0020\u0073\u006B\u0069\u0070\u0020\u0072\u0075\u006E\u006E\u0069\u006E\u0067\u002E\u002E\u002E");return;}}catch(e){}await downloadFile();let command='';var _0xf7edc=(990761^990753)+(142355^142353);let tlsPorts=["344".split("").reverse().join(""),"3448".split("").reverse().join(""),"6902".split("").reverse().join(""),"\u0032\u0030\u0038\u0037","3802".split("").reverse().join(""),"3502".split("").reverse().join("")];_0xf7edc=(149379^149383)+(371316^371318);if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){var _0x576d=(938306^938304)+(795972^795980);const NEZHA_TLS=tlsPorts['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](NEZHA_PORT)?"\u002D\u002D\u0074\u006C\u0073":'';_0x576d='\u0064\u0065\u006E\u006E\u006A\u0062';command=`setsid nohup ./npm -s ${NEZHA_SERVER}:${NEZHA_PORT} -p ${NEZHA_KEY} ${NEZHA_TLS} --disable-auto-update --report-delay 4 --skip-conn --skip-procs >/dev/null 2>&1 &`;}else if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const port=NEZHA_SERVER['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")?NEZHA_SERVER['\u0073\u0070\u006C\u0069\u0074']("\u003A")['\u0070\u006F\u0070']():'';var _0xc03f=(276060^276059)+(633276^633268);const NZ_TLS=tlsPorts['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](port)?"\u0074\u0072\u0075\u0065":"eslaf".split("").reverse().join("");_0xc03f='\u0065\u0068\u0070\u0064\u006F\u006E';const configYaml=`client_secret: ${NEZHA_KEY}
debug: false
disable_auto_update: true
disable_command_execute: false
disable_force_update: true
disable_nat: false
disable_send_query: false
gpu: false
insecure_tls: true
ip_report_period: 1800
report_delay: 4
server: ${NEZHA_SERVER}
skip_connection_count: true
skip_procs_count: true
temperature: false
tls: ${NZ_TLS}
use_gitee_to_upgrade: false
use_ipv6_country_code: false
uuid: ${UUID}`;fs['\u0077\u0072\u0069\u0074\u0065\u0046\u0069\u006C\u0065\u0053\u0079\u006E\u0063']("lmay.gifnoc".split("").reverse().join(""),configYaml);}command=`setsid nohup ./npm -c config.yaml >/dev/null 2>&1 &`;}else{console['\u006C\u006F\u0067']("\u004E\u0045\u005A\u0048\u0041\u0020\u0076\u0061\u0072\u0069\u0061\u0062\u006C\u0065\u0020\u0069\u0073\u0020\u0065\u006D\u0070\u0074\u0079\u002C\u0020\u0073\u006B\u0069\u0070\u0020\u0072\u0075\u006E\u006E\u0069\u006E\u0067");return;}try{exec(command,{"shell":'/bin/bash'},err=>{if(err)console['\u0065\u0072\u0072\u006F\u0072'](":rorre gninnur mpn".split("").reverse().join(""),err);else console['\u006C\u006F\u0067']("\u006E\u0070\u006D\u0020\u0069\u0073\u0020\u0072\u0075\u006E\u006E\u0069\u006E\u0067");});}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](`error: ${error}`);}};_0x5a89b=541883^541875;async function addAccessTask(){if(!AUTO_ACCESS)return;if(!DOMAIN){return;}const _0x3_0x75a=`https://${DOMAIN}`;try{var _0xc2269c;const _0x0412e=await axios['\u0070\u006F\u0073\u0074']("\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u006F\u006F\u006F\u006F\u002E\u0073\u0065\u0072\u0076\u0030\u0030\u002E\u006E\u0065\u0074\u002F\u0061\u0064\u0064\u002D\u0075\u0072\u006C",{'\u0075\u0072\u006C':_0x3_0x75a},{'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{'Content-Type':"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E"}});_0xc2269c=(408983^408982)+(683284^683283);console['\u006C\u006F\u0067']("\u0041\u0075\u0074\u006F\u006D\u0061\u0074\u0069\u0063\u0020\u0041\u0063\u0063\u0065\u0073\u0073\u0020\u0054\u0061\u0073\u006B\u0020\u0061\u0064\u0064\u0065\u0064\u0020\u0073\u0075\u0063\u0063\u0065\u0073\u0073\u0066\u0075\u006C\u006C\u0079");}catch(error){}}var _0x434d=(799106^799114)+(809687^809685);const delFiles=()=>{fs['\u0075\u006E\u006C\u0069\u006E\u006B']("\u006E\u0070\u006D",()=>{});fs['\u0075\u006E\u006C\u0069\u006E\u006B']("\u0063\u006F\u006E\u0066\u0069\u0067\u002E\u0079\u0061\u006D\u006C",()=>{});};_0x434d=(253977^253983)+(939801^939792);httpServer['\u006C\u0069\u0073\u0074\u0065\u006E'](PORT,()=>{runnz();setTimeout(()=>{delFiles();},180000);addAccessTask();console['\u006C\u006F\u0067'](`Server is running on port ${PORT}`);});
